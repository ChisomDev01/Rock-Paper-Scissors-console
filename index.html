<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock, paper, scissors</title>
</head>

<body>
    <div id="container">
        <h1>Rock Paper Scissors</h1>
        <div class="choice">
            <button>Rock</button>
            <button>Paper</button>
            <button>Scissors</button>
        </div>
        <div id="result"></div>
        <div id="score">Human: 0 | Computer: 0</div>
        <button class="restart-btn">Restart</button>
    </div>

    <script>
        const buttons = document.querySelectorAll('.choice button');
        const restartButton = document.querySelector('.restart-btn');
        const resultDiv = document.getElementById('result');
        const scoreDiv = document.getElementById('score');
        const container = document.getElementById('container')
        let humanScore = 0;
        let computerScore = 0;
        let rounds = 0;




        //Function to get computer choice
        function getComputerChoice() {
            const choices = ['Rock', 'Paper', 'Scissors']
            return choices[Math.floor(Math.random() * choices.length)]
        }

        function playRound(humanChoice, computerChoice) {
            if (humanChoice === computerChoice) {
                resultDiv.textContent = "It's a tie!";
            } else if (
                (humanChoice === "Rock" && computerChoice === "Scissors") || (humanChoice === "Paper" && computerChoice === "Rock") || (humanChoice === "Scissors" && computerChoice === "Paper")
            ) {
                resultDiv.textContent = `You won! ${humanChoice} beats ${computerChoice}`;
                humanScore++;
            } else {
                resultDiv.textContent = `You lost. ${computerChoice} beats ${humanChoice} `
                computerScore++;
            }
            scoreDiv.textContent = `Human: ${humanScore} | Computer: ${computerScore}`
        }

        function restart() {
            humanScore = 0;
            computerScore = 0;
            rounds = 0;
            resultDiv.textContent = "";
            scoreDiv.textContent = `Human: ${humanScore} | Computer: ${computerScore}`;
            buttons.forEach(b => b.disabled = false);
            // remove any appended "Game over" messages
            container.querySelectorAll('p').forEach(p => {
                if (p.textContent.trim() === 'Game over') p.remove();
            });
        }

        buttons.forEach(button => {
            button.addEventListener('click', () => {
            if (rounds > 5) return;
            const humanChoice = button.textContent;
            const computerChoice = getComputerChoice();
            playRound(humanChoice, computerChoice);
            rounds++;
            if (rounds > 5) {
                const text = document.createElement('p');
                text.textContent = 'Game over';
                container.appendChild(text);
                buttons.forEach(b => b.disabled = true);
            }
            });
        });

        restartButton.addEventListener('click', restart)


    </script>

</body>

</html>